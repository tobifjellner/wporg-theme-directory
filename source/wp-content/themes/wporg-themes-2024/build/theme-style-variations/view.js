import*as e from"@wordpress/interactivity";var t={d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const o=(n={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},s={},t.d(s,n),s),r=220;var n,s;function l(e){return e.closest(".wp-block-wporg-theme-style-variations").querySelector(".wporg-theme-style-variations__row")}const{state:i}=(0,o.store)("wporg/themes/style-variations",{state:{get canPrevious(){const{isRTL:e}=(0,o.getContext)();return e?i.position<0:i.position>0},get canNext(){const{isRTL:e}=(0,o.getContext)();return e?i.position>=-1*i.overflow:i.position<i.overflow},get hasOverscroll(){return i.canNext||i.canPrevious},get isHidden(){return(0,o.getContext)().style!==i.selected},position:0,overflow:0,selected:"default"},actions:{init(){const e=l((0,o.getElement)().ref);if(i.position=e.scrollLeft,!e.children.length)return;const t=window.getComputedStyle(e),r=parseInt(t.getPropertyValue("--wporg-theme-style-variations--size"),10),n=parseInt(t.getPropertyValue("gap"),10),s=e.children.length*r+(e.children.length-1)*n;i.overflow=s-e.clientWidth},handleScroll(){const e=l((0,o.getElement)().ref);i.position=e.scrollLeft},handlePrevious(){const{isRTL:e}=(0,o.getContext)(),t=l((0,o.getElement)().ref),n=e?t.scrollLeft+r:t.scrollLeft-r;t.scrollTo({left:n,behavior:"smooth"})},handleNext(){const{isRTL:e}=(0,o.getContext)(),t=l((0,o.getElement)().ref),n=e?t.scrollLeft-r:t.scrollLeft+r;t.scrollTo({left:n,behavior:"smooth"})},onStyleClick(e){e.preventDefault();const{ref:t}=(0,o.getElement)();i.selected=t?.dataset.style;const r=document.getElementById("wporg-theme-button-preview");if(r){const e=new URL(r.href);e.searchParams.set("style_variation",i.selected),r.href=e}}}});